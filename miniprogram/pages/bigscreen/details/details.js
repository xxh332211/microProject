"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const net_service_1 = require("../../../service/net.service");
Page({
    data: {
        current: 'jc',
        subdistrict_id: '',
        address: '',
        date: '',
        showDate: false,
        minDate: new Date(2020, 0, 1).getTime(),
        maxDate: new Date(2050, 11, 31).getTime(),
        show: false,
        isShow1: false,
        isShow2: false,
        isShow3: false,
        detailsObj: {},
        array: ['多层', '高层', '别墅', '混合', '其他'],
        array2: ['公建配套厢房', '临建厢房', '违建厢房', '不详厢房', '临时_定时定点投放点位', '固定_定时定点投放点位'],
        items1: [
            { name: '供水', value: 1, checked: false, disabled: false },
            { name: '供电', value: 2, checked: false, disabled: false },
            { name: '排污', value: 3, checked: false, disabled: false },
            { name: '监控', value: 4, checked: false, disabled: false },
        ],
        items: [
            { name: '干垃圾', value: 1, checked: false, disabled: false },
            { name: '湿垃圾', value: 2, checked: false, disabled: false },
            { name: '可回收垃圾', value: 3, checked: false, disabled: false },
            { name: '有害垃圾', value: 4, checked: false, disabled: false },
        ],
        index: -1,
        jcData: {
            thumb_img: '',
            household_num: '',
            building_num: '',
            volunteer_total: '',
            cleaner_total: '',
            house_type: '选择房屋类型',
            building_time: '',
            address: '',
            class_manager: '',
            class_manager_mobile: '',
            cleaner_person: '',
            cleaner_mobile: ''
        },
        shljData: {
            dry_garbage_container: '',
            wet_refuse_container: '',
            recyclable_garbage_container: '',
            hazardous_waste_container: '',
            building_waste_container: '',
        },
        byData: {
            img_url: '',
            brand: '',
            use_type: '',
            plate_number: '',
            model: ''
        },
        ljxfData: {
            image_url: '',
            wing_room_name: '',
            mark: '',
            address: '',
            wing_type: '选择箱房性质',
            infoList: [],
            classList: []
        }
    },
    tap(e) {
        this.setData({
            current: e.currentTarget.dataset.type
        });
    },
    add2() {
        this.setData({
            isShow2: true
        });
    },
    add3() {
        this.setData({
            isShow3: true
        });
    },
    delete2(e) {
        console.log(e);
        let data = {
            subdistrict_id: this.data.subdistrict_id,
            car_id: e.currentTarget.dataset.car_id,
            del_flag: -1
        };
        net_service_1.default.deleteBy(data).then(res => {
            console.log(res);
            this.getDataObjt();
        });
    },
    delete3(e) {
        console.log(e);
        let data = {
            subdistrict_id: this.data.subdistrict_id,
            type: this.data.detailsObj.type || this.data.detailsObj.wing_room[0].type,
            wing_room_id: e.currentTarget.dataset.wing_room_id,
            del_flag: -1
        };
        net_service_1.default.deleteLjxf(data).then(res => {
            console.log(res);
            this.getDataObjt();
        });
    },
    showDate() {
        this.setData({ showDate: true });
    },
    nClose() {
        this.setData({ showDate: false });
    },
    formatDate(e) {
        let date = new Date(e);
        return `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`;
    },
    onConfirm(event) {
        this.data.date = '';
        let newDate = this.formatDate(event.detail);
        this.setData({
            showDate: false,
            date: newDate
        });
        this.data.jcData.building_time = newDate;
    },
    getDataObjt() {
        net_service_1.default.getCommunityDetail2().then((res) => {
            console.log('详情数据', res);
            this.setData({
                detailsObj: res.data.result,
                subdistrict_id: res.data.result.subdistrict_id
            });
        });
    },
    onRemoveImgTap(e) {
        let images = e.detail.all;
        let updata = this.data.jcData;
        updata.thumb_img = images;
        this.setData({
            jcData: updata
        });
    },
    onImgChangeTap(e) {
        let images = e.detail.current;
        let thumb_img = this.data.jcData.thumb_img;
        let updata = this.data.jcData;
        net_service_1.default.uploadImgs(images).then((res) => {
            thumb_img = [...thumb_img, ...res];
            updata.thumb_img = thumb_img;
            this.setData({
                jcData: updata,
            });
        }, (err) => {
            updata.thumb_img = thumb_img;
            this.setData({
                jcData: updata,
            });
        });
    },
    onRemoveImgTap2(e) {
        let images = e.detail.all;
        let updata = this.data.byData;
        updata.img_url = images;
        this.setData({
            byData: updata
        });
    },
    onImgChangeTap2(e) {
        let images = e.detail.current;
        let img_url = this.data.byData.img_url;
        let updata = this.data.byData;
        net_service_1.default.uploadImgs(images).then((res) => {
            img_url = [...img_url, ...res];
            updata.img_url = img_url;
            this.setData({
                byData: updata,
            });
        }, (err) => {
            updata.img_url = img_url;
            this.setData({
                byData: updata,
            });
        });
    },
    onRemoveImgTap3(e) {
        let images = e.detail.all;
        let updata = this.data.ljxfData;
        updata.image_url = images;
        this.setData({
            ljxfData: updata
        });
    },
    onImgChangeTap3(e) {
        let images = e.detail.current;
        let image_url = this.data.ljxfData.image_url;
        let updata = this.data.ljxfData;
        net_service_1.default.uploadImgs(images).then((res) => {
            image_url = [...image_url, ...res];
            updata.image_url = image_url;
            this.setData({
                ljxfData: updata,
            });
        }, (err) => {
            updata.img_url = image_url;
            this.setData({
                ljxfData: updata,
            });
        });
    },
    onChangeTap(e) {
        console.log('checkbox发生change事件，携带value值为：', e.detail.value);
        this.data.ljxfData.infoList = e.detail.value;
    },
    checkboxChange(e) {
        console.log('checkbox发生change事件，携带value值为：', e.detail.value);
        this.data.ljxfData.classList = e.detail.value;
    },
    getCurrentLocal() {
        let that = this;
        wx.getSetting({
            success(res) {
                if (res.authSetting['scope.userLocation'] == false) {
                    wx.openSetting({
                        success(res) { }
                    });
                }
                else {
                    that.getMyLocation();
                }
                that.getMyLocation();
            }
        });
    },
    getMyLocation() {
        let that = this;
        this.data.address = '';
        wx.chooseLocation({
            success(res) {
                console.log('地理位置', res);
                that.setData({
                    address: res.address
                });
                that.data.ljxfData.address = res.address;
                console.log('xxx1', that.data.ljxfData.address);
            }
        });
    },
    inputform1(e) {
        let key = e.currentTarget.dataset.key;
        let data = this.data.jcData;
        data[key] = e.detail.currentKey || e.detail.value;
        this.setData({
            jcData: data
        });
    },
    inputform3(e) {
        let key = e.currentTarget.dataset.key;
        let data = this.data.shljData;
        data[key] = e.detail.currentKey || e.detail.value;
        this.setData({
            shljData: data
        });
    },
    inputform4(e) {
        let key = e.currentTarget.dataset.key;
        let data = this.data.byData;
        data[key] = e.detail.currentKey || e.detail.value;
        this.setData({
            byData: data
        });
    },
    inputform5(e) {
        let key = e.currentTarget.dataset.key;
        let data = this.data.ljxfData;
        data[key] = e.detail.currentKey || e.detail.value;
        this.setData({
            ljxfData: data
        });
    },
    submit1() {
        if (this.data.jcData.house_type) {
            this.data.jcData.house_type = this.data.jcData.house_type * 1 + 1;
        }
        this.data.jcData.subdistrict_id = this.data.subdistrict_id;
        this.data.jcData.thumb_img = this.data.jcData.thumb_img.toString();
        console.log('基础：', this.data.jcData);
        net_service_1.default.jcEdit(this.data.jcData).then(res => {
            console.log(res);
            this.setData({ show: true });
        });
    },
    submit3() {
        this.data.shljData.subdistrict_id = this.data.subdistrict_id;
        console.log('生活垃圾：', this.data.shljData);
        net_service_1.default.jcEdit(this.data.shljData).then(res => {
            console.log(res);
            this.setData({ show: true });
        });
    },
    submit4() {
        this.data.byData.subdistrict_id = this.data.subdistrict_id;
        this.data.byData.img_url = this.data.byData.img_url.toString();
        console.log('驳运：', this.data.byData);
        net_service_1.default.byEdit(this.data.byData).then(res => {
            console.log(res);
            this.setData({
                show: true,
                isShow2: false
            });
            this.getDataObjt();
        });
    },
    submit5() {
        if (this.data.ljxfData.wing_type) {
            this.data.ljxfData.wing_type = this.data.ljxfData.wing_type * 1 + 1;
        }
        this.data.ljxfData.subdistrict_id = this.data.subdistrict_id;
        this.data.ljxfData.type = this.data.detailsObj.type || this.data.detailsObj.wing_room[0].type;
        this.data.ljxfData.image_url = this.data.ljxfData.image_url.toString();
        console.log('垃圾箱房：', this.data.ljxfData);
        net_service_1.default.ljxfEdit(this.data.ljxfData).then(res => {
            console.log(res);
            this.setData({
                show: true,
                isShow3: false
            });
            this.getDataObjt();
        });
    },
    onLoad() {
        wx.lin.initValidateForm(this);
    },
    onReady() {
        this.getDataObjt();
    },
    onShow() {
    },
    onHide() {
    },
    onUnload() {
    },
    onPullDownRefresh() {
    },
    onReachBottom() {
    },
    onShareAppMessage(opts) {
        console.log(opts.target);
        return {};
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGV0YWlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImRldGFpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw4REFBK0M7QUFDL0MsSUFBSSxDQUFDO0lBSUgsSUFBSSxFQUFFO1FBQ0osT0FBTyxFQUEyQixJQUFJO1FBQ3RDLGNBQWMsRUFBRSxFQUFFO1FBQ2xCLE9BQU8sRUFBRSxFQUFFO1FBQ1gsSUFBSSxFQUFFLEVBQUU7UUFDUixRQUFRLEVBQUUsS0FBSztRQUNmLE9BQU8sRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRTtRQUN2QyxPQUFPLEVBQUUsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUU7UUFDekMsSUFBSSxFQUFFLEtBQUs7UUFDWCxPQUFPLEVBQUUsS0FBSztRQUNkLE9BQU8sRUFBRSxLQUFLO1FBQ2QsT0FBTyxFQUFFLEtBQUs7UUFDZCxVQUFVLEVBQU8sRUFBRTtRQUNuQixLQUFLLEVBQUUsQ0FBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxDQUFDO1FBQ2pDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxhQUFhLEVBQUMsYUFBYSxDQUFDO1FBQ25FLE1BQU0sRUFBRTtZQUNOLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRTtZQUN6RCxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUU7WUFDekQsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsT0FB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aWNlL25ldC5zZXJ2aWNlJztcclxuUGFnZSh7XHJcbiAgLyoqXHJcbiAgICog6aG16Z2i55qE5Yid5aeL5pWw5o2uXHJcbiAgICovXHJcbiAgZGF0YToge1xyXG4gICAgY3VycmVudDogPCdqYyd8J3NobGonfCdieSd8J2xqeGYnPidqYycsXHJcbiAgICBzdWJkaXN0cmljdF9pZDogJycsXHJcbiAgICBhZGRyZXNzOiAnJyxcclxuICAgIGRhdGU6ICcnLFxyXG4gICAgc2hvd0RhdGU6IGZhbHNlLFxyXG4gICAgbWluRGF0ZTogbmV3IERhdGUoMjAyMCwgMCwgMSkuZ2V0VGltZSgpLFxyXG4gICAgbWF4RGF0ZTogbmV3IERhdGUoMjA1MCwgMTEsIDMxKS5nZXRUaW1lKCksXHJcbiAgICBzaG93OiBmYWxzZSxcclxuICAgIGlzU2hvdzE6IGZhbHNlLFxyXG4gICAgaXNTaG93MjogZmFsc2UsXHJcbiAgICBpc1Nob3czOiBmYWxzZSxcclxuICAgIGRldGFpbHNPYmo6IDxhbnk+e30sXHJcbiAgICBhcnJheTogWyflpJrlsYInLCfpq5jlsYInLCfliKvlooUnLCfmt7flkIgnLCflhbbku5YnXSxcclxuICAgIGFycmF5MjogWyflhazlu7rphY3lpZfljqLmiL8nLCfkuLTlu7rljqLmiL8nLCfov53lu7rljqLmiL8nLCfkuI3or6bljqLmiL8nLCfkuLTml7Zf5a6a5pe25a6a54K55oqV5pS+54K55L2NJywn5Zu65a6aX+WumuaXtuWumueCueaKleaUvueCueS9jSddLFxyXG4gICAgaXRlbXMxOiBbXHJcbiAgICAgIHsgbmFtZTogJ+S+m+awtCcsIHZhbHVlOiAxLCBjaGVja2VkOiBmYWxzZSwgZGlzYWJsZWQ6IGZhbHNlIH0sXHJcbiAgICAgIHsgbmFtZTogJ+S+m+eUtScsIHZhbHVlOiAyLCBjaGVja2VkOiBmYWxzZSwgZGlzYWJsZWQ6IGZhbHNlIH0sXHJcbiAgICAgIHsgbmFtZTogJ+aOkuaxoScsIHZhbHVlOiAzLCBjaGVja2VkOiBmYWxzZSwgZGlzYWJsZWQ6IGZhbHNlIH0sXHJcbiAgICAgIHsgbmFtZTogJ+ebkeaOpycsIHZhbHVlOiA0LCBjaGVja2VkOiBmYWxzZSwgZGlzYWJsZWQ6IGZhbHNlIH0sXHJcbiAgICBdLFxyXG4gICAgaXRlbXM6IFtcclxuICAgICAgeyBuYW1lOiAn5bmy5Z6D5Zy+JywgdmFsdWU6IDEsIGNoZWNrZWQ6IGZhbHNlLCBkaXNhYmxlZDogZmFsc2UgfSxcclxuICAgICAgeyBuYW1lOiAn5rm/5Z6D5Zy+JywgdmFsdWU6IDIsIGNoZWNrZWQ6IGZhbHNlLCBkaXNhYmxlZDogZmFsc2UgfSxcclxuICAgICAgeyBuYW1lOiAn5Y+v5Zue5pS25Z6D5Zy+JywgdmFsdWU6IDMsIGNoZWNrZWQ6IGZhbHNlLCBkaXNhYmxlZDogZmFsc2UgfSxcclxuICAgICAgeyBuYW1lOiAn5pyJ5a6z5Z6D5Zy+JywgdmFsdWU6IDQsIGNoZWNrZWQ6IGZhbHNlLCBkaXNhYmxlZDogZmFsc2UgfSxcclxuICAgIF0sXHJcbiAgICBpbmRleDogLTEsXHJcbiAgICBqY0RhdGE6IDxhbnk+e1xyXG4gICAgICB0aHVtYl9pbWc6ICcnLFxyXG4gICAgICBob3VzZWhvbGRfbnVtOiAnJyxcclxuICAgICAgYnVpbGRpbmdfbnVtOiAnJyxcclxuICAgICAgdm9sdW50ZWVyX3RvdGFsOiAnJyxcclxuICAgICAgY2xlYW5lcl90b3RhbDogJycsXHJcbiAgICAgIGhvdXNlX3R5cGU6ICfpgInmi6nmiL/lsYvnsbvlnosnLFxyXG4gICAgICBidWlsZGluZ190aW1lOiAnJyxcclxuICAgICAgYWRkcmVzczogJycsXHJcbiAgICAgIGNsYXNzX21hbmFnZXI6ICcnLFxyXG4gICAgICBjbGFzc19tYW5hZ2VyX21vYmlsZTogJycsXHJcbiAgICAgIGNsZWFuZXJfcGVyc29uOiAnJyxcclxuICAgICAgY2xlYW5lcl9tb2JpbGU6ICcnXHJcbiAgICB9LFxyXG4gICAgc2hsakRhdGE6IDxhbnk+e1xyXG4gICAgICBkcnlfZ2FyYmFnZV9jb250YWluZXI6ICcnLFxyXG4gICAgICB3ZXRfcmVmdXNlX2NvbnRhaW5lcjogJycsXHJcbiAgICAgIHJlY3ljbGFibGVfZ2FyYmFnZV9jb250YWluZXI6ICcnLFxyXG4gICAgICBoYXphcmRvdXNfd2FzdGVfY29udGFpbmVyOiAnJyxcclxuICAgICAgYnVpbGRpbmdfd2FzdGVfY29udGFpbmVyOiAnJyxcclxuICAgIH0sXHJcbiAgICBieURhdGE6IDxhbnk+e1xyXG4gICAgICBpbWdfdXJsOiAnJyxcclxuICAgICAgYnJhbmQ6ICcnLFxyXG4gICAgICB1c2VfdHlwZTogJycsXHJcbiAgICAgIHBsYXRlX251bWJlcjogJycsXHJcbiAgICAgIG1vZGVsOiAnJ1xyXG4gICAgfSxcclxuICAgIGxqeGZEYXRhOiA8YW55PntcclxuICAgICAgaW1hZ2VfdXJsOiAnJyxcclxuICAgICAgd2luZ19yb29tX25hbWU6ICcnLFxyXG4gICAgICBtYXJrOiAnJyxcclxuICAgICAgYWRkcmVzczogJycsXHJcbiAgICAgIHdpbmdfdHlwZTogJ+mAieaLqeeuseaIv+aAp+i0qCcsXHJcbiAgICAgIGluZm9MaXN0OiBbXSxcclxuICAgICAgY2xhc3NMaXN0OiBbXVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgdGFwIChlOmFueSkge1xyXG4gICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgY3VycmVudDogZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQudHlwZVxyXG4gICAgfSk7XHJcbiAgfSxcclxuICBhZGQyKCkge1xyXG4gICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgaXNTaG93MjogdHJ1ZVxyXG4gICAgfSlcclxuICB9LFxyXG4gIGFkZDMoKSB7XHJcbiAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICBpc1Nob3czOiB0cnVlXHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgZGVsZXRlMihlOiBhbnkpIHtcclxuICAgIC8vIOWIoOmZpOmps+i/kOaculxyXG4gICAgY29uc29sZS5sb2coZSk7XHJcbiAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgc3ViZGlzdHJpY3RfaWQ6IHRoaXMuZGF0YS5zdWJkaXN0cmljdF9pZCxcclxuICAgICAgY2FyX2lkOiBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYXJfaWQsXHJcbiAgICAgIGRlbF9mbGFnOiAtMVxyXG4gICAgfVxyXG4gICAgYXBpLmRlbGV0ZUJ5KGRhdGEpLnRoZW4ocmVzPT57XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgIHRoaXMuZ2V0RGF0YU9ianQoKTtcclxuICAgIH0pXHJcbiAgfSxcclxuICBkZWxldGUzKGU6IGFueSkge1xyXG4gICAgLy8g5Yig6Zmk5Z6D5Zy+566x5oi/XHJcbiAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIGxldCBkYXRhID0ge1xyXG4gICAgICBzdWJkaXN0cmljdF9pZDogdGhpcy5kYXRhLnN1YmRpc3RyaWN0X2lkLFxyXG4gICAgICB0eXBlOiB0aGlzLmRhdGEuZGV0YWlsc09iai50eXBlfHx0aGlzLmRhdGEuZGV0YWlsc09iai53aW5nX3Jvb21bMF0udHlwZSxcclxuICAgICAgd2luZ19yb29tX2lkOiBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC53aW5nX3Jvb21faWQsXHJcbiAgICAgIGRlbF9mbGFnOiAtMVxyXG4gICAgfVxyXG4gICAgYXBpLmRlbGV0ZUxqeGYoZGF0YSkudGhlbihyZXM9PntcclxuICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgdGhpcy5nZXREYXRhT2JqdCgpO1xyXG4gICAgfSlcclxuICB9LFxyXG4gIC8vIOS4h+W5tOWOhlxyXG4gIHNob3dEYXRlKCkge1xyXG4gICAgdGhpcy5zZXREYXRhKHtzaG93RGF0ZTogdHJ1ZX0pXHJcbiAgfSxcclxuICBuQ2xvc2UoKSB7XHJcbiAgICB0aGlzLnNldERhdGEoeyBzaG93RGF0ZTogZmFsc2UgfSk7XHJcbiAgfSxcclxuICBmb3JtYXREYXRlKGU6IGFueSkge1xyXG4gICAgbGV0IGRhdGUgPSBuZXcgRGF0ZShlKTtcclxuICAgIHJldHVybiBgJHtkYXRlLmdldEZ1bGxZZWFyKCl9LyR7ZGF0ZS5nZXRNb250aCgpICsgMX0vJHtkYXRlLmdldERhdGUoKX1gO1xyXG4gIH0sXHJcbiAgb25Db25maXJtKGV2ZW50OiBhbnkpIHtcclxuICAgIHRoaXMuZGF0YS5kYXRlID0gJydcclxuICAgIGxldCBuZXdEYXRlID0gdGhpcy5mb3JtYXREYXRlKGV2ZW50LmRldGFpbClcclxuICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAgIHNob3dEYXRlOiBmYWxzZSxcclxuICAgICAgZGF0ZTogbmV3RGF0ZVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLmRhdGEuamNEYXRhLmJ1aWxkaW5nX3RpbWUgPSBuZXdEYXRlO1xyXG4gICAgLy8gY29uc29sZS5sb2coZXZlbnQsIHRoaXMuZGF0YS5kYXRlKTtcclxuICB9LFxyXG4gIC8vIOiOt+WPluekvuWMuuivpuaDhVxyXG4gIGdldERhdGFPYmp0KCkge1xyXG4gICAgYXBpLmdldENvbW11bml0eURldGFpbDIoKS50aGVuKChyZXM6YW55KT0+e1xyXG4gICAgICBjb25zb2xlLmxvZygn6K+m5oOF5pWw5o2uJywgcmVzKVxyXG4gICAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICAgIGRldGFpbHNPYmo6IHJlcy5kYXRhLnJlc3VsdCxcclxuICAgICAgICBzdWJkaXN0cmljdF9pZDogcmVzLmRhdGEucmVzdWx0LnN1YmRpc3RyaWN0X2lkXHJcbiAgICAgIH0pO1xyXG4gICAgfSlcclxuICB9LFxyXG4gIC8vIOWbvueJh+i1i+WAvFxyXG4gIG9uUmVtb3ZlSW1nVGFwKGU6IGFueSkge1xyXG4gICAgbGV0IGltYWdlcyA9IGUuZGV0YWlsLmFsbFxyXG4gICAgbGV0IHVwZGF0YSA9IHRoaXMuZGF0YS5qY0RhdGFcclxuICAgIHVwZGF0YS50aHVtYl9pbWcgPSBpbWFnZXNcclxuICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAgIGpjRGF0YTogdXBkYXRhXHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgb25JbWdDaGFuZ2VUYXAoZTogYW55KSB7XHJcbiAgICBsZXQgaW1hZ2VzID0gZS5kZXRhaWwuY3VycmVudFxyXG4gICAgbGV0IHRodW1iX2ltZyA9IHRoaXMuZGF0YS5qY0RhdGEudGh1bWJfaW1nXHJcbiAgICBsZXQgdXBkYXRhID0gdGhpcy5kYXRhLmpjRGF0YVxyXG4gICAgYXBpLnVwbG9hZEltZ3MoaW1hZ2VzKS50aGVuKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICB0aHVtYl9pbWcgPSBbLi4udGh1bWJfaW1nLCAuLi5yZXNdXHJcbiAgICAgIHVwZGF0YS50aHVtYl9pbWcgPSB0aHVtYl9pbWdcclxuICAgICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgICBqY0RhdGE6IHVwZGF0YSxcclxuICAgICAgfSlcclxuICAgICAgLy8gY29uc29sZS5sb2codGhpcy5kYXRhLmpjRGF0YSlcclxuICAgIH0sIChlcnI6IGFueSkgPT4ge1xyXG4gICAgICB1cGRhdGEudGh1bWJfaW1nID0gdGh1bWJfaW1nXHJcbiAgICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAgICAgamNEYXRhOiB1cGRhdGEsXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgb25SZW1vdmVJbWdUYXAyKGU6IGFueSkge1xyXG4gICAgbGV0IGltYWdlcyA9IGUuZGV0YWlsLmFsbFxyXG4gICAgbGV0IHVwZGF0YSA9IHRoaXMuZGF0YS5ieURhdGFcclxuICAgIHVwZGF0YS5pbWdfdXJsID0gaW1hZ2VzXHJcbiAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICBieURhdGE6IHVwZGF0YVxyXG4gICAgfSlcclxuICB9LFxyXG4gIG9uSW1nQ2hhbmdlVGFwMihlOiBhbnkpIHtcclxuICAgIGxldCBpbWFnZXMgPSBlLmRldGFpbC5jdXJyZW50XHJcbiAgICBsZXQgaW1nX3VybCA9IHRoaXMuZGF0YS5ieURhdGEuaW1nX3VybFxyXG4gICAgbGV0IHVwZGF0YSA9IHRoaXMuZGF0YS5ieURhdGFcclxuICAgIGFwaS51cGxvYWRJbWdzKGltYWdlcykudGhlbigocmVzOiBhbnkpID0+IHtcclxuICAgICAgaW1nX3VybCA9IFsuLi5pbWdfdXJsLCAuLi5yZXNdXHJcbiAgICAgIHVwZGF0YS5pbWdfdXJsID0gaW1nX3VybFxyXG4gICAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICAgIGJ5RGF0YTogdXBkYXRhLFxyXG4gICAgICB9KVxyXG4gICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmRhdGEuYnlEYXRhKVxyXG4gICAgfSwgKGVycjogYW55KSA9PiB7XHJcbiAgICAgIHVwZGF0YS5pbWdfdXJsID0gaW1nX3VybFxyXG4gICAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICAgIGJ5RGF0YTogdXBkYXRhLFxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9LFxyXG4gIG9uUmVtb3ZlSW1nVGFwMyhlOiBhbnkpIHtcclxuICAgIGxldCBpbWFnZXMgPSBlLmRldGFpbC5hbGxcclxuICAgIGxldCB1cGRhdGEgPSB0aGlzLmRhdGEubGp4ZkRhdGFcclxuICAgIHVwZGF0YS5pbWFnZV91cmwgPSBpbWFnZXNcclxuICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAgIGxqeGZEYXRhOiB1cGRhdGFcclxuICAgIH0pXHJcbiAgfSxcclxuICBvbkltZ0NoYW5nZVRhcDMoZTogYW55KSB7XHJcbiAgICBsZXQgaW1hZ2VzID0gZS5kZXRhaWwuY3VycmVudFxyXG4gICAgbGV0IGltYWdlX3VybCA9IHRoaXMuZGF0YS5sanhmRGF0YS5pbWFnZV91cmxcclxuICAgIGxldCB1cGRhdGEgPSB0aGlzLmRhdGEubGp4ZkRhdGFcclxuICAgIGFwaS51cGxvYWRJbWdzKGltYWdlcykudGhlbigocmVzOiBhbnkpID0+IHtcclxuICAgICAgaW1hZ2VfdXJsID0gWy4uLmltYWdlX3VybCwgLi4ucmVzXVxyXG4gICAgICB1cGRhdGEuaW1hZ2VfdXJsID0gaW1hZ2VfdXJsXHJcbiAgICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAgICAgbGp4ZkRhdGE6IHVwZGF0YSxcclxuICAgICAgfSlcclxuICAgIH0sIChlcnI6IGFueSkgPT4ge1xyXG4gICAgICB1cGRhdGEuaW1nX3VybCA9IGltYWdlX3VybFxyXG4gICAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICAgIGxqeGZEYXRhOiB1cGRhdGEsXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgLy8gY2hlY2tib3hcclxuICBvbkNoYW5nZVRhcChlOiBhbnkpIHtcclxuICAgIGNvbnNvbGUubG9nKCdjaGVja2JveOWPkeeUn2NoYW5nZeS6i+S7tu+8jOaQuuW4pnZhbHVl5YC85Li677yaJywgZS5kZXRhaWwudmFsdWUpXHJcbiAgICB0aGlzLmRhdGEubGp4ZkRhdGEuaW5mb0xpc3QgPSBlLmRldGFpbC52YWx1ZVxyXG4gIH0sXHJcbiAgY2hlY2tib3hDaGFuZ2UoZTogYW55KSB7XHJcbiAgICBjb25zb2xlLmxvZygnY2hlY2tib3jlj5HnlJ9jaGFuZ2Xkuovku7bvvIzmkLrluKZ2YWx1ZeWAvOS4uu+8micsIGUuZGV0YWlsLnZhbHVlKVxyXG4gICAgdGhpcy5kYXRhLmxqeGZEYXRhLmNsYXNzTGlzdCA9IGUuZGV0YWlsLnZhbHVlXHJcbiAgfSxcclxuICAvLyDojrflj5blvZPliY3lnLDnkIbkvY3nva4g5o6I5p2D6aqM6K+BXHJcbiAgZ2V0Q3VycmVudExvY2FsKCl7XHJcbiAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICB3eC5nZXRTZXR0aW5nKHtcclxuICAgICAgc3VjY2VzcyhyZXMpIHtcclxuICAgICAgICBpZiAocmVzLmF1dGhTZXR0aW5nWydzY29wZS51c2VyTG9jYXRpb24nXSA9PSBmYWxzZSl7XHJcbiAgICAgICAgICAvLyDlpoLmnpzlt7Lmi5Lnu53mjojmnYPvvIzliJnmiZPlvIDorr7nva7pobXpnaJcclxuICAgICAgICAgIHd4Lm9wZW5TZXR0aW5nKHtcclxuICAgICAgICAgICAgc3VjY2VzcyhyZXMpIHt9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0gIGVsc2UgeyBcclxuICAgICAgICAgIC8vIOesrOS4gOasoeaOiOadg++8jOaIluiAheW3suaOiOadg++8jOebtOaOpeiwg+eUqOebuOWFs2FwaVxyXG4gICAgICAgICAgdGhhdC5nZXRNeUxvY2F0aW9uKClcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhhdC5nZXRNeUxvY2F0aW9uKClcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9LFxyXG4gIC8vIOiOt+WPluW9k+WJjeWcsOeQhuS9jee9rlxyXG4gIGdldE15TG9jYXRpb24oKXtcclxuICAgIGxldCB0aGF0ID0gdGhpc1xyXG4gICAgdGhpcy5kYXRhLmFkZHJlc3MgPSAnJ1xyXG4gICAgd3guY2hvb3NlTG9jYXRpb24oe1xyXG4gICAgICBzdWNjZXNzKHJlcykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCflnLDnkIbkvY3nva4nLCByZXMpXHJcbiAgICAgICAgdGhhdC5zZXREYXRhKHtcclxuICAgICAgICAgIGFkZHJlc3M6IHJlcy5hZGRyZXNzXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGF0LmRhdGEubGp4ZkRhdGEuYWRkcmVzcyA9IHJlcy5hZGRyZXNzXHJcbiAgICAgICAgY29uc29sZS5sb2coJ3h4eDEnLCB0aGF0LmRhdGEubGp4ZkRhdGEuYWRkcmVzcyk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfSxcclxuICAvLyDooajljZXmj5DkuqRcclxuICBpbnB1dGZvcm0xKGU6IGFueSkge1xyXG4gICAgbGV0IGtleSA9IGUuY3VycmVudFRhcmdldC5kYXRhc2V0LmtleTtcclxuICAgIGxldCBkYXRhID0gdGhpcy5kYXRhLmpjRGF0YVxyXG4gICAgZGF0YVtrZXldID0gZS5kZXRhaWwuY3VycmVudEtleSB8fCBlLmRldGFpbC52YWx1ZVxyXG4gICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgamNEYXRhOiBkYXRhXHJcbiAgICB9KVxyXG4gICAgLy8gY29uc29sZS5sb2codGhpcy5kYXRhLmpjRGF0YSk7XHJcbiAgfSxcclxuICBpbnB1dGZvcm0zKGU6IGFueSkge1xyXG4gICAgbGV0IGtleSA9IGUuY3VycmVudFRhcmdldC5kYXRhc2V0LmtleTtcclxuICAgIGxldCBkYXRhID0gdGhpcy5kYXRhLnNobGpEYXRhXHJcbiAgICBkYXRhW2tleV0gPSBlLmRldGFpbC5jdXJyZW50S2V5IHx8IGUuZGV0YWlsLnZhbHVlXHJcbiAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICBzaGxqRGF0YTogZGF0YVxyXG4gICAgfSlcclxuICB9LFxyXG4gIGlucHV0Zm9ybTQoZTogYW55KSB7XHJcbiAgICBsZXQga2V5ID0gZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQua2V5O1xyXG4gICAgbGV0IGRhdGEgPSB0aGlzLmRhdGEuYnlEYXRhXHJcbiAgICBkYXRhW2tleV0gPSBlLmRldGFpbC5jdXJyZW50S2V5IHx8IGUuZGV0YWlsLnZhbHVlXHJcbiAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICBieURhdGE6IGRhdGFcclxuICAgIH0pXHJcbiAgfSxcclxuICBpbnB1dGZvcm01KGU6IGFueSkge1xyXG4gICAgbGV0IGtleSA9IGUuY3VycmVudFRhcmdldC5kYXRhc2V0LmtleTtcclxuICAgIGxldCBkYXRhID0gdGhpcy5kYXRhLmxqeGZEYXRhXHJcbiAgICBkYXRhW2tleV0gPSBlLmRldGFpbC5jdXJyZW50S2V5IHx8IGUuZGV0YWlsLnZhbHVlXHJcbiAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICBsanhmRGF0YTogZGF0YVxyXG4gICAgfSlcclxuICB9LFxyXG4gIHN1Ym1pdDEoKSB7XHJcbiAgICBpZih0aGlzLmRhdGEuamNEYXRhLmhvdXNlX3R5cGUpIHtcclxuICAgICAgIHRoaXMuZGF0YS5qY0RhdGEuaG91c2VfdHlwZSA9IHRoaXMuZGF0YS5qY0RhdGEuaG91c2VfdHlwZSoxICsgMSBcclxuICAgIH1cclxuICAgIHRoaXMuZGF0YS5qY0RhdGEuc3ViZGlzdHJpY3RfaWQgPSB0aGlzLmRhdGEuc3ViZGlzdHJpY3RfaWRcclxuICAgIHRoaXMuZGF0YS5qY0RhdGEudGh1bWJfaW1nID0gdGhpcy5kYXRhLmpjRGF0YS50aHVtYl9pbWcudG9TdHJpbmcoKVxyXG4gICAgY29uc29sZS5sb2coJ+WfuuehgO+8micsIHRoaXMuZGF0YS5qY0RhdGEpO1xyXG4gICAgYXBpLmpjRWRpdCh0aGlzLmRhdGEuamNEYXRhKS50aGVuKHJlcz0+e1xyXG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICB0aGlzLnNldERhdGEoeyBzaG93OnRydWUgfSk7XHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgc3VibWl0MygpIHtcclxuICAgIHRoaXMuZGF0YS5zaGxqRGF0YS5zdWJkaXN0cmljdF9pZCA9IHRoaXMuZGF0YS5zdWJkaXN0cmljdF9pZFxyXG4gICAgY29uc29sZS5sb2coJ+eUn+a0u+Weg+Wcvu+8micsIHRoaXMuZGF0YS5zaGxqRGF0YSk7XHJcbiAgICBhcGkuamNFZGl0KHRoaXMuZGF0YS5zaGxqRGF0YSkudGhlbihyZXM9PntcclxuICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgdGhpcy5zZXREYXRhKHsgc2hvdzp0cnVlIH0pO1xyXG4gICAgfSlcclxuICB9LFxyXG4gIHN1Ym1pdDQoKSB7XHJcbiAgICB0aGlzLmRhdGEuYnlEYXRhLnN1YmRpc3RyaWN0X2lkID0gdGhpcy5kYXRhLnN1YmRpc3RyaWN0X2lkXHJcbiAgICB0aGlzLmRhdGEuYnlEYXRhLmltZ191cmwgPSB0aGlzLmRhdGEuYnlEYXRhLmltZ191cmwudG9TdHJpbmcoKVxyXG4gICAgY29uc29sZS5sb2coJ+mps+i/kO+8micsIHRoaXMuZGF0YS5ieURhdGEpO1xyXG4gICAgYXBpLmJ5RWRpdCh0aGlzLmRhdGEuYnlEYXRhKS50aGVuKHJlcz0+e1xyXG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICAgIHNob3c6dHJ1ZSxcclxuICAgICAgICBpc1Nob3cyOiBmYWxzZVxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5nZXREYXRhT2JqdCgpO1xyXG4gICAgfSlcclxuICB9LFxyXG4gIHN1Ym1pdDUoKSB7XHJcbiAgICBpZih0aGlzLmRhdGEubGp4ZkRhdGEud2luZ190eXBlKSB7XHJcbiAgICAgIHRoaXMuZGF0YS5sanhmRGF0YS53aW5nX3R5cGUgPSB0aGlzLmRhdGEubGp4ZkRhdGEud2luZ190eXBlKjEgKyAxIFxyXG4gICB9XHJcbiAgICB0aGlzLmRhdGEubGp4ZkRhdGEuc3ViZGlzdHJpY3RfaWQgPSB0aGlzLmRhdGEuc3ViZGlzdHJpY3RfaWRcclxuICAgIHRoaXMuZGF0YS5sanhmRGF0YS50eXBlID0gdGhpcy5kYXRhLmRldGFpbHNPYmoudHlwZXx8dGhpcy5kYXRhLmRldGFpbHNPYmoud2luZ19yb29tWzBdLnR5cGVcclxuICAgIHRoaXMuZGF0YS5sanhmRGF0YS5pbWFnZV91cmwgPSB0aGlzLmRhdGEubGp4ZkRhdGEuaW1hZ2VfdXJsLnRvU3RyaW5nKClcclxuICAgIGNvbnNvbGUubG9nKCflnoPlnL7nrrHmiL/vvJonLCB0aGlzLmRhdGEubGp4ZkRhdGEpO1xyXG4gICAgYXBpLmxqeGZFZGl0KHRoaXMuZGF0YS5sanhmRGF0YSkudGhlbihyZXM9PntcclxuICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgICAgc2hvdzp0cnVlLFxyXG4gICAgICAgICBpc1Nob3czOiBmYWxzZVxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5nZXREYXRhT2JqdCgpO1xyXG4gICAgfSlcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIOeUn+WRveWRqOacn+WHveaVsC0t55uR5ZCs6aG16Z2i5Yqg6L29XHJcbiAgICovXHJcbiAgb25Mb2FkKCkge1xyXG4gICAgd3gubGluLmluaXRWYWxpZGF0ZUZvcm0odGhpcylcclxuICAgIC8vIGlmIChhcHAuZ2xvYmFsRGF0YS50b2tlbikge1xyXG4gICAgLy8gICB3eC5uYXZpZ2F0ZVRvKHt1cmw6Jy9wYWdlcy9tYWluL3BhdHJvbC9pbmRleC9pbmRleCd9KTtcclxuICAgIC8vIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDnlJ/lkb3lkajmnJ/lh73mlbAtLeebkeWQrOmhtemdouWIneasoea4suafk+WujOaIkFxyXG4gICAqL1xyXG4gIG9uUmVhZHkoKSB7XHJcbiAgICB0aGlzLmdldERhdGFPYmp0KCk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog55Sf5ZG95ZGo5pyf5Ye95pWwLS3nm5HlkKzpobXpnaLmmL7npLpcclxuICAgKi9cclxuICBvblNob3coKSB7XHJcblxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOeUn+WRveWRqOacn+WHveaVsC0t55uR5ZCs6aG16Z2i6ZqQ6JePXHJcbiAgICovXHJcbiAgb25IaWRlKCkge1xyXG5cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDnlJ/lkb3lkajmnJ/lh73mlbAtLeebkeWQrOmhtemdouWNuOi9vVxyXG4gICAqL1xyXG4gIG9uVW5sb2FkKCkge1xyXG5cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDpobXpnaLnm7jlhbPkuovku7blpITnkIblh73mlbAtLeebkeWQrOeUqOaIt+S4i+aLieWKqOS9nFxyXG4gICAqL1xyXG4gIG9uUHVsbERvd25SZWZyZXNoKCkge1xyXG5cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDpobXpnaLkuIrmi4nop6blupXkuovku7bnmoTlpITnkIblh73mlbBcclxuICAgKi9cclxuICBvblJlYWNoQm90dG9tKCkge1xyXG5cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDnlKjmiLfngrnlh7vlj7PkuIrop5LliIbkuqtcclxuICAgKi9cclxuICBvblNoYXJlQXBwTWVzc2FnZShvcHRzOiBhbnkpOiBXZWNoYXRNaW5pcHJvZ3JhbS5QYWdlLklDdXN0b21TaGFyZUNvbnRlbnQge1xyXG4gICAgY29uc29sZS5sb2cob3B0cy50YXJnZXQpXHJcbiAgICByZXR1cm4ge31cclxuICB9XHJcbn0pIl19